Started GET "/" for ::1 at 2022-08-21 15:24:37 +0200
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ExercisesController#index as HTML
  [1m[36mExercise Load (5.6ms)[0m  [1m[34mSELECT "exercises".* FROM "exercises" WHERE "exercises"."user_id" = $1 ORDER BY "exercises"."created_at" DESC LIMIT $2 OFFSET $3[0m  [["user_id", 1], ["LIMIT", 15], ["OFFSET", 0]]
  â†³ app/controllers/exercises_controller.rb:14:in `index'
  Rendering exercises/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "exercises" WHERE "exercises"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/exercises/index.html.erb:22
  Rendered exercises/index.html.erb within layouts/application (Duration: 17.3ms | Allocations: 7012)
  Rendered users/_login.html.erb (Duration: 1.4ms | Allocations: 526)
  Rendered layouts/_header.html.erb (Duration: 4.3ms | Allocations: 1376)
  Rendered layouts/_footer.html.erb (Duration: 1.0ms | Allocations: 212)
Completed 200 OK in 96ms (Views: 52.8ms | ActiveRecord: 11.7ms | Allocations: 26081)


Started GET "/statistics/index" for ::1 at 2022-08-21 15:24:48 +0200
Processing by StatisticsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/statistics_controller.rb:6:in `index'
  [1m[36mExercise Load (0.8ms)[0m  [1m[34mSELECT "exercises".* FROM "exercises" WHERE "exercises"."user_id" = $1 ORDER BY exercises.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:11:in `index'
  [1m[35m (6.8ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "exercises" JOIN (SELECT SUM(LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series,length(series) - position('x' in series))::decimal) as sum, exercise_id FROM "exercise_nodes" WHERE (exercise_nodes.series LIKE '_x__' or exercise_nodes.series LIKE '_x_') GROUP BY "exercise_nodes"."exercise_id") as nodes ON exercises.id = nodes.exercise_id WHERE "exercises"."user_id" = $1 AND (exercises.title LIKE '%Cvicenie%') AND (exercises.time != '') LIMIT $2) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:43:in `evolution_time'
  [1m[36mExercise Load (4.0ms)[0m  [1m[34mSELECT exercises.time, nodes.sum, (nodes.sum/exercises.time::decimal) as result FROM "exercises" JOIN (SELECT SUM(LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series,length(series) - position('x' in series))::decimal) as sum, exercise_id FROM "exercise_nodes" WHERE (exercise_nodes.series LIKE '_x__' or exercise_nodes.series LIKE '_x_') GROUP BY "exercise_nodes"."exercise_id") as nodes ON exercises.id = nodes.exercise_id WHERE "exercises"."user_id" = $1 AND (exercises.title LIKE '%Cvicenie%') AND (exercises.time != '') LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:43:in `map'
  [1m[36mExerciseNode Load (12.3ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:56:in `top_exercise'
  [1m[36mExerciseNode Load (11.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda brusaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (9.5ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('zhyby'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (7.1ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('stojka'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (3.7ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda zdvih noh'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (2.9ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('drepy'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (47.2ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.title NOT LIKE '%+%') GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:81:in `bottom_exercise'
  [1m[36mExerciseNode Load (2.9ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc uzky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (3.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('autobus'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (8.2ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('arnoldove tlaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (4.2ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc u.uzky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (4.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('biceps jedno'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.2ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:106:in `evolution_ws'
  [1m[36mExerciseNode Load (2.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('drepy'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (2.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('zhyby'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (8.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (4.0ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda brusaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (3.2ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('brusaky lavicka'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  Rendering statistics/index.html.erb within layouts/application
  Rendered statistics/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 6723)
  Rendered users/_login.html.erb (Duration: 0.3ms | Allocations: 233)
  Rendered layouts/_header.html.erb (Duration: 22.8ms | Allocations: 428)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 55)
Completed 200 OK in 296ms (Views: 38.4ms | ActiveRecord: 165.2ms | Allocations: 46333)


Started GET "/statistics/index" for ::1 at 2022-08-21 15:24:58 +0200
Processing by StatisticsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/statistics_controller.rb:6:in `index'
  [1m[36mExercise Load (0.6ms)[0m  [1m[34mSELECT "exercises".* FROM "exercises" WHERE "exercises"."user_id" = $1 ORDER BY exercises.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:11:in `index'
  [1m[35m (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "exercises" JOIN (SELECT SUM(LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series,length(series) - position('x' in series))::decimal) as sum, exercise_id FROM "exercise_nodes" WHERE (exercise_nodes.series LIKE '_x__' or exercise_nodes.series LIKE '_x_') GROUP BY "exercise_nodes"."exercise_id") as nodes ON exercises.id = nodes.exercise_id WHERE "exercises"."user_id" = $1 AND (exercises.title LIKE '%Cvicenie%') AND (exercises.time != '') LIMIT $2) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:43:in `evolution_time'
  [1m[36mExercise Load (2.9ms)[0m  [1m[34mSELECT exercises.time, nodes.sum, (nodes.sum/exercises.time::decimal) as result FROM "exercises" JOIN (SELECT SUM(LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series,length(series) - position('x' in series))::decimal) as sum, exercise_id FROM "exercise_nodes" WHERE (exercise_nodes.series LIKE '_x__' or exercise_nodes.series LIKE '_x_') GROUP BY "exercise_nodes"."exercise_id") as nodes ON exercises.id = nodes.exercise_id WHERE "exercises"."user_id" = $1 AND (exercises.title LIKE '%Cvicenie%') AND (exercises.time != '') LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:43:in `map'
  [1m[36mExerciseNode Load (3.5ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:56:in `top_exercise'
  [1m[36mExerciseNode Load (4.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda brusaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (4.2ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('zhyby'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (5.1ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('stojka'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (5.4ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda zdvih noh'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (6.2ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('drepy'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (46.7ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.title NOT LIKE '%+%') GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:81:in `bottom_exercise'
  [1m[36mExerciseNode Load (4.9ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc uzky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.6ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('autobus'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.5ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('arnoldove tlaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.7ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc u.uzky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.5ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('biceps jedno'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (6.7ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:106:in `evolution_ws'
  [1m[36mExerciseNode Load (3.5ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('drepy'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (5.6ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('zhyby'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (3.3ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (2.9ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda brusaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (1.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('brusaky lavicka'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  Rendering statistics/index.html.erb within layouts/application
  Rendered statistics/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 5856)
  Rendered users/_login.html.erb (Duration: 0.2ms | Allocations: 231)
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 417)
  Rendered layouts/_footer.html.erb (Duration: 0.1ms | Allocations: 55)
Completed 200 OK in 178ms (Views: 8.2ms | ActiveRecord: 123.5ms | Allocations: 33264)


Started GET "/statistics/index" for ::1 at 2022-08-21 15:25:05 +0200
Processing by StatisticsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/statistics_controller.rb:6:in `index'
  [1m[36mExercise Load (0.4ms)[0m  [1m[34mSELECT "exercises".* FROM "exercises" WHERE "exercises"."user_id" = $1 ORDER BY exercises.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:11:in `index'
  [1m[35m (5.3ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "exercises" JOIN (SELECT SUM(LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series,length(series) - position('x' in series))::decimal) as sum, exercise_id FROM "exercise_nodes" WHERE (exercise_nodes.series LIKE '_x__' or exercise_nodes.series LIKE '_x_') GROUP BY "exercise_nodes"."exercise_id") as nodes ON exercises.id = nodes.exercise_id WHERE "exercises"."user_id" = $1 AND (exercises.title LIKE '%Cvicenie%') AND (exercises.time != '') LIMIT $2) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:43:in `evolution_time'
  [1m[36mExercise Load (4.1ms)[0m  [1m[34mSELECT exercises.time, nodes.sum, (nodes.sum/exercises.time::decimal) as result FROM "exercises" JOIN (SELECT SUM(LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series,length(series) - position('x' in series))::decimal) as sum, exercise_id FROM "exercise_nodes" WHERE (exercise_nodes.series LIKE '_x__' or exercise_nodes.series LIKE '_x_') GROUP BY "exercise_nodes"."exercise_id") as nodes ON exercises.id = nodes.exercise_id WHERE "exercises"."user_id" = $1 AND (exercises.title LIKE '%Cvicenie%') AND (exercises.time != '') LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:43:in `map'
  [1m[36mExerciseNode Load (5.1ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:56:in `top_exercise'
  [1m[36mExerciseNode Load (6.9ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda brusaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (4.2ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('zhyby'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (4.0ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('stojka'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (5.7ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda zdvih noh'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (5.4ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('drepy'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (50.6ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.title NOT LIKE '%+%') GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:81:in `bottom_exercise'
  [1m[36mExerciseNode Load (3.9ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc uzky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (8.9ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('autobus'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('arnoldove tlaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.6ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc u.uzky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.6ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('biceps jedno'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (1.9ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:106:in `evolution_ws'
  [1m[36mExerciseNode Load (3.6ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('drepy'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (1.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('zhyby'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (2.0ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (2.2ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda brusaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (2.4ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('brusaky lavicka'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  Rendering statistics/index.html.erb within layouts/application
  Rendered statistics/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 5857)
  Rendered users/_login.html.erb (Duration: 0.2ms | Allocations: 231)
  Rendered layouts/_header.html.erb (Duration: 0.5ms | Allocations: 417)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 55)
Completed 200 OK in 187ms (Views: 9.9ms | ActiveRecord: 127.0ms | Allocations: 33260)


Started GET "/statistics/index" for ::1 at 2022-08-21 15:25:07 +0200
Processing by StatisticsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/statistics_controller.rb:6:in `index'
  [1m[36mExercise Load (0.6ms)[0m  [1m[34mSELECT "exercises".* FROM "exercises" WHERE "exercises"."user_id" = $1 ORDER BY exercises.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:11:in `index'
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "exercises" JOIN (SELECT SUM(LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series,length(series) - position('x' in series))::decimal) as sum, exercise_id FROM "exercise_nodes" WHERE (exercise_nodes.series LIKE '_x__' or exercise_nodes.series LIKE '_x_') GROUP BY "exercise_nodes"."exercise_id") as nodes ON exercises.id = nodes.exercise_id WHERE "exercises"."user_id" = $1 AND (exercises.title LIKE '%Cvicenie%') AND (exercises.time != '') LIMIT $2) subquery_for_count[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:43:in `evolution_time'
  [1m[36mExercise Load (2.6ms)[0m  [1m[34mSELECT exercises.time, nodes.sum, (nodes.sum/exercises.time::decimal) as result FROM "exercises" JOIN (SELECT SUM(LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series,length(series) - position('x' in series))::decimal) as sum, exercise_id FROM "exercise_nodes" WHERE (exercise_nodes.series LIKE '_x__' or exercise_nodes.series LIKE '_x_') GROUP BY "exercise_nodes"."exercise_id") as nodes ON exercises.id = nodes.exercise_id WHERE "exercises"."user_id" = $1 AND (exercises.title LIKE '%Cvicenie%') AND (exercises.time != '') LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:43:in `map'
  [1m[36mExerciseNode Load (7.3ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:56:in `top_exercise'
  [1m[36mExerciseNode Load (3.4ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda brusaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (2.7ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('zhyby'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (2.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('stojka'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (3.1ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda zdvih noh'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (3.1ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('drepy'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:64:in `block in top_exercise'
  [1m[36mExerciseNode Load (40.0ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.title NOT LIKE '%+%') GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count ASC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:81:in `bottom_exercise'
  [1m[36mExerciseNode Load (2.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc uzky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.6ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('autobus'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (3.3ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('arnoldove tlaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (3.5ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc u.uzky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (4.4ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, exercise_nodes.series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('biceps jedno'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/statistics_controller.rb:89:in `block in bottom_exercise'
  [1m[36mExerciseNode Load (2.2ms)[0m  [1m[34mSELECT COUNT(*) as count, BTRIM(unaccent(lower(exercise_nodes.title))) as title FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') GROUP BY BTRIM(unaccent(lower(exercise_nodes.title))) ORDER BY count DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 5]]
  â†³ app/controllers/statistics_controller.rb:106:in `evolution_ws'
  [1m[36mExerciseNode Load (3.4ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('drepy'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (2.6ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('zhyby'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (2.4ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('benc'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (2.4ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('hrazda brusaky'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  [1m[36mExerciseNode Load (1.8ms)[0m  [1m[34mSELECT exercise_nodes.title, exercise_nodes.weight, (LEFT(series, position('x' in series) - 1)::decimal * RIGHT(series, length(series) - position('x' in series))::decimal) as series FROM "exercise_nodes" INNER JOIN "exercises" ON "exercises"."id" = "exercise_nodes"."exercise_id" WHERE "exercises"."user_id" = $1 AND (exercise_nodes.weight != '') AND (exercise_nodes.series LIKE '_x__' OR exercise_nodes.series LIKE '_x_') AND (BTRIM(unaccent(lower(exercise_nodes.title))) like BTRIM(unaccent('brusaky lavicka'))) ORDER BY exercise_nodes.created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 100]]
  â†³ app/controllers/statistics_controller.rb:117:in `block in evolution_ws'
  Rendering statistics/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered statistics/index.html.erb within layouts/application (Duration: 40.1ms | Allocations: 9238)
  Rendered users/_login.html.erb (Duration: 1.4ms | Allocations: 486)
  Rendered layouts/_header.html.erb (Duration: 3.2ms | Allocations: 1311)
  Rendered layouts/_footer.html.erb (Duration: 1.2ms | Allocations: 199)
Completed 200 OK in 197ms (Views: 50.0ms | ActiveRecord: 99.0ms | Allocations: 39031)


